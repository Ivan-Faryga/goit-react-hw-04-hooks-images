(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{23:function(e,t,n){e.exports={loadMoreBtn:"Button_loadMoreBtn__1yFwD"}},28:function(e,t,n){},29:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(5),r=n.n(o),i=(n(28),n(13)),s=n(4),u=(n(29),n(1)),l=function(e){var t=e.image,n=e.onClick;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:t.webformatURL,alt:"",className:"ImageGalleryItem-image",onClick:n,"data-img":t.largeImageURL})})},b=function(e){var t=e.images,n=e.onClick;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(u.jsx)(l,{image:e,onClick:n},e.id)}))})},j=n(7);function m(e){var t=e.onSubmit,n=e.reset,c=Object(a.useState)(""),o=Object(s.a)(c,2),r=o[0],i=o[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),!r.trim())return j.b.warn("Please enter your request",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});t(r),i(""),n()},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{name:"query",value:r,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){i(e.currentTarget.value)}})]})})}var d=n(22),h=n.n(d);n(51);var f=function(){return Object(u.jsx)(h.a,{type:"Watch",color:"#3f51b5",height:100,width:100,timeout:3e3})},g=document.querySelector("#modal-root");function O(e){var t=e.onCloseModal,n=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:"Modal",children:n})}),g)}var p=n(23),v=n.n(p);var x=function(e){var t=e.addImgs;return Object(u.jsx)("button",{onClick:t,className:v.a.loadMoreBtn,children:"Load more.."})},S=n(12),y=n.n(S);y.a.defaults.baseURL="https://pixabay.com/api";n(70);function C(){var e=this,t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(1),l=Object(s.a)(r,2),d=l[0],h=l[1],g=Object(a.useState)([]),p=Object(s.a)(g,2),v=p[0],S=p[1],C=Object(a.useState)(!1),k=Object(s.a)(C,2),w=k[0],N=k[1],F=Object(a.useState)(!1),I=Object(s.a)(F,2),L=I[0],E=I[1],B=Object(a.useState)(""),M=Object(s.a)(B,2),q=M[0],P=M[1];Object(a.useEffect)((function(){""!==c&&T()}),[c]),Object(a.useEffect)((function(){2!==d&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[d]);var T=function(t){_(),function(e,t){return y.a.get("/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat("22450020-f32da86f0216f1b7b94b605ba")).then((function(e){return e.data.hits}))}(c,d).then((function(e){if(0===e.length)return j.b.error("no results for ".concat(c),{theme:"colored",autoClose:4e3});S([].concat(Object(i.a)(v),Object(i.a)(e))),h(d+1)})).catch((function(t){return e.setState({error:t})})).finally((function(){return _()}))},_=function(){N(!w)},D=function(){E(!L)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{query:c,onSubmit:function(e){o(e),h(1)},reset:function(){S(""),h(1)}}),!!v.length&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{images:v,onClick:function(e){e.preventDefault(),D(),P(e.target.dataset.img)}}),Object(u.jsx)(x,{addImgs:T,btnName:"Load more"})]}),L&&Object(u.jsx)(O,{onCloseModal:D,children:Object(u.jsx)("img",{src:q,alt:""})}),w&&Object(u.jsx)(f,{}),Object(u.jsx)(j.a,{position:"top-right",autoClose:2500,theme:"dark"})]})}var k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),k()}},[[71,1,2]]]);
//# sourceMappingURL=main.c04d9657.chunk.js.map